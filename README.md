```markdown
# üöÄ Selectel Vacancies API

FastAPI-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –¥–ª—è –ø–∞—Ä—Å–∏–Ω–≥–∞ –ø—É–±–ª–∏—á–Ω—ã—Ö –≤–∞–∫–∞–Ω—Å–∏–π Selectel, —Ö—Ä–∞–Ω–µ–Ω–∏—è –≤ PostgreSQL –∏ –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª–µ–Ω–∏—è CRUD‚Äë–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞.

![FastAPI](https://img.shields.io/badge/FastAPI-0.129.0-009688?logo=fastapi)
![PostgreSQL](https://img.shields.io/badge/PostgreSQL-16-336791?logo=postgresql)
![Docker](https://img.shields.io/badge/Docker-ready-2496ED?logo=docker)

## üìã –û–≥–ª–∞–≤–ª–µ–Ω–∏–µ

- [–í–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏](#–≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏)
- [–¢–µ—Ö–Ω–æ–ª–æ–≥–∏–∏](#—Ç–µ—Ö–Ω–æ–ª–æ–≥–∏–∏)
- [–ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç (Docker)](#–±—ã—Å—Ç—Ä—ã–π-—Å—Ç–∞—Ä—Ç-docker)
- [–ü—Ä–æ–≤–µ—Ä–∫–∞ —Ä–∞–±–æ—Ç–æ—Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç–∏](#–ø—Ä–æ–≤–µ—Ä–∫–∞-—Ä–∞–±–æ—Ç–æ—Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç–∏)
- [API Endpoints](#api-endpoints)
- [–ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è](#–∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è)
- [–ó–∞–ø—É—Å–∫ –±–µ–∑ Docker](#–∑–∞–ø—É—Å–∫-–±–µ–∑-docker)
- [–ü–æ–ª–µ–∑–Ω—ã–µ –∫–æ–º–∞–Ω–¥—ã Docker](#–ø–æ–ª–µ–∑–Ω—ã–µ-–∫–æ–º–∞–Ω–¥—ã-docker)
- [–£—Å—Ç—Ä–∞–Ω–µ–Ω–∏–µ –≤–æ–∑–º–æ–∂–Ω—ã—Ö –ø—Ä–æ–±–ª–µ–º](#—É—Å—Ç—Ä–∞–Ω–µ–Ω–∏–µ-–≤–æ–∑–º–æ–∂–Ω—ã—Ö-–ø—Ä–æ–±–ª–µ–º)

---

## ‚ú® –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏

- üîÑ **–ü–∞—Ä—Å–∏–Ω–≥ –≤–∞–∫–∞–Ω—Å–∏–π** —Å –ø—É–±–ª–∏—á–Ω–æ–≥–æ API Selectel (–ø—Ä–∏ —Å—Ç–∞—Ä—Ç–µ –∏ –ø–æ —Ä–∞—Å–ø–∏—Å–∞–Ω–∏—é)
- üìã **CRUD API** –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –≤–∞–∫–∞–Ω—Å–∏—è–º–∏
- üîç **–§–∏–ª—å—Ç—Ä–∞—Ü–∏—è** —Å–ø–∏—Å–∫–∞ –ø–æ –≥–æ—Ä–æ–¥—É –∏ –≥—Ä–∞—Ñ–∏–∫—É —Ä–∞–±–æ—Ç—ã
- üíæ **–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π upsert** ‚Äî –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Å—É—â–µ—Å—Ç–≤—É—é—â–∏—Ö –∑–∞–ø–∏—Å–µ–π, —Å–æ–∑–¥–∞–Ω–∏–µ –Ω–æ–≤—ã—Ö
- ‚è± **–§–æ–Ω–æ–≤–∞—è –∑–∞–¥–∞—á–∞** —Å –Ω–∞—Å—Ç—Ä–∞–∏–≤–∞–µ–º—ã–º –∏–Ω—Ç–µ—Ä–≤–∞–ª–æ–º (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é 5 –º–∏–Ω—É—Ç)
- üê≥ **–ì–æ—Ç–æ–≤–∞—è –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è Docker Compose** –¥–ª—è –ª—ë–≥–∫–æ–≥–æ –∑–∞–ø—É—Å–∫–∞

---

## üõ† –¢–µ—Ö–Ω–æ–ª–æ–≥–∏–∏

| –ö–æ–º–ø–æ–Ω–µ–Ω—Ç          | –ò–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã                                                                 |
|--------------------|-----------------------------------------------------------------------------|
| **–í–µ–±-—Ñ—Ä–µ–π–º–≤–æ—Ä–∫**  | [FastAPI](https://fastapi.tiangolo.com/)                                   |
| **–ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö**    | PostgreSQL + [asyncpg](https://github.com/MagicStack/asyncpg)              |
| **ORM**            | SQLAlchemy 2.0 (–∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã–π —Ä–µ–∂–∏–º)                                         |
| **–ú–∏–≥—Ä–∞—Ü–∏–∏**       | Alembic                                                                    |
| **–ü–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫**    | APScheduler                                                                |
| **–í–∞–ª–∏–¥–∞—Ü–∏—è**      | Pydantic / Pydantic Settings                                               |
| **HTTP-–∫–ª–∏–µ–Ω—Ç**    | HTTPX                                                                      |
| **–ö–æ–Ω—Ç–µ–π–Ω–µ—Ä–∏–∑–∞—Ü–∏—è**| Docker, Docker Compose                                                      |

---

## üö¶ –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç (Docker)

### –¢—Ä–µ–±–æ–≤–∞–Ω–∏—è

- [Docker](https://docs.docker.com/get-docker/) –≤–µ—Ä—Å–∏–∏ 20.10+
- [Docker Compose](https://docs.docker.com/compose/install/) –≤–µ—Ä—Å–∏–∏ 2.0+ (–≤—Ö–æ–¥–∏—Ç –≤ Docker Desktop)

### –ü–æ—à–∞–≥–æ–≤–∞—è –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è

1. **–ö–ª–æ–Ω–∏—Ä—É–π—Ç–µ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π** (–∏–ª–∏ —Ä–∞—Å–ø–∞–∫—É–π—Ç–µ –∞—Ä—Ö–∏–≤)
   ```bash
   git clone https://github.com/yourusername/selectel-vacancies-api.git
   cd selectel-vacancies-api
   ```

2. **–°–æ–∑–¥–∞–π—Ç–µ —Ñ–∞–π–ª `.env` –∏–∑ –ø—Ä–∏–º–µ—Ä–∞**
   ```bash
   cp .env.example .env   # Linux/Mac
   copy .env.example .env  # Windows
   ```

   –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ —Å–æ–¥–µ—Ä–∂–∏–º–æ–µ `.env` —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É–µ—Ç:
   ```env
   DATABASE_URL=postgresql+asyncpg://postgres:postgres@db:5432/postgres
   LOG_LEVEL=INFO
   PARSE_SCHEDULE_MINUTES=5
   ```

3. **–ó–∞–ø—É—Å—Ç–∏—Ç–µ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä—ã**
   ```bash
   docker-compose up --build
   ```
   - –§–ª–∞–≥ `--build` –Ω—É–∂–µ–Ω —Ç–æ–ª—å–∫–æ –ø—Ä–∏ –ø–µ—Ä–≤–æ–º –∑–∞–ø—É—Å–∫–µ –∏–ª–∏ –ø–æ—Å–ª–µ –∏–∑–º–µ–Ω–µ–Ω–∏–π –≤ –∫–æ–¥–µ.
   - –î–ª—è —Ñ–æ–Ω–æ–≤–æ–≥–æ —Ä–µ–∂–∏–º–∞ –¥–æ–±–∞–≤—å—Ç–µ `-d`.

4. **–î–æ–∂–¥–∏—Ç–µ—Å—å –ø–æ–ª–Ω–æ–≥–æ —Å—Ç–∞—Ä—Ç–∞**
   –í –ª–æ–≥–∞—Ö –¥–æ–ª–∂–Ω—ã –ø–æ—è–≤–∏—Ç—å—Å—è —Å–æ–æ–±—â–µ–Ω–∏—è:
   - –ü—Ä–∏–º–µ–Ω–µ–Ω–∏–µ –º–∏–≥—Ä–∞—Ü–∏–π Alembic
   - `–°—Ç–∞—Ä—Ç –ø–∞—Ä—Å–∏–Ω–≥–∞ –≤–∞–∫–∞–Ω—Å–∏–π` –∏ `–ü–∞—Ä—Å–∏–Ω–≥ –∑–∞–≤–µ—Ä—à–µ–Ω, –Ω–æ–≤—ã—Ö –≤–∞–∫–∞–Ω—Å–∏–π: 26`
   - `Uvicorn running on http://0.0.0.0:8000`

5. **–û—Ç–∫—Ä–æ–π—Ç–µ Swagger UI**  
   –ü–µ—Ä–µ–π–¥–∏—Ç–µ –ø–æ –∞–¥—Ä–µ—Å—É [http://localhost:8000/docs](http://localhost:8000/docs) ‚Äî –≤—ã —É–≤–∏–¥–∏—Ç–µ –∏–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω—É—é –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—é API.

6. **–û—Å—Ç–∞–Ω–æ–≤–∫–∞ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è**
   ```bash
   docker-compose down
   ```
   –ß—Ç–æ–±—ã —É–¥–∞–ª–∏—Ç—å —Ç–∞–∫–∂–µ —Ç–æ–º —Å –±–∞–∑–æ–π –¥–∞–Ω–Ω—ã—Ö (—Å–±—Ä–æ—Å–∏—Ç—å –≤—Å–µ –¥–∞–Ω–Ω—ã–µ), –≤—ã–ø–æ–ª–Ω–∏—Ç–µ:
   ```bash
   docker-compose down -v
   ```

---

## ‚úÖ –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ä–∞–±–æ—Ç–æ—Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç–∏

### 1. –ü–æ–ª—É—á–µ–Ω–∏–µ —Å–ø–∏—Å–∫–∞ –≤–∞–∫–∞–Ω—Å–∏–π
- –í Swagger UI –æ—Ç–∫—Ä–æ–π—Ç–µ `GET /api/v1/vacancies/`, –Ω–∞–∂–º–∏—Ç–µ **Try it out** ‚Üí **Execute**.
- –û–∂–∏–¥–∞–µ—Ç—Å—è —Å—Ç–∞—Ç—É—Å **200** –∏ –º–∞—Å—Å–∏–≤ –∏–∑ ~26 –≤–∞–∫–∞–Ω—Å–∏–π.

### 2. –°–æ–∑–¥–∞–Ω–∏–µ –Ω–æ–≤–æ–π –≤–∞–∫–∞–Ω—Å–∏–∏
- `POST /api/v1/vacancies/` —Å —Ç–µ–ª–æ–º:
  ```json
  {
    "title": "–¢–µ—Å—Ç–æ–≤–∞—è –≤–∞–∫–∞–Ω—Å–∏—è",
    "timetable_mode_name": "–ì–∏–±–∫–∏–π",
    "tag_name": "test",
    "city_name": "–ö–∞–∑–∞–Ω—å",
    "published_at": "2026-02-18T12:00:00Z",
    "is_remote_available": true,
    "is_hot": false,
    "external_id": 999999
  }
  ```
- –û–∂–∏–¥–∞–µ—Ç—Å—è **201 Created** –∏ –æ–±—ä–µ–∫—Ç —Å –ø—Ä–∏—Å–≤–æ–µ–Ω–Ω—ã–º `id`.

### 3. –ü—Ä–æ–≤–µ—Ä–∫–∞ –æ–±—Ä–∞–±–æ—Ç–∫–∏ –¥—É–±–ª–∏–∫–∞—Ç–æ–≤
- –ü–æ–≤—Ç–æ—Ä–∏—Ç–µ `POST` —Å —Ç–µ–º –∂–µ `external_id` (999999).
- –û–∂–∏–¥–∞–µ—Ç—Å—è **200 OK** –∏ –≤–æ–∑–≤—Ä–∞—Ç **—Å—É—â–µ—Å—Ç–≤—É—é—â–µ–π** –≤–∞–∫–∞–Ω—Å–∏–∏ (–±–µ–∑ —Å–æ–∑–¥–∞–Ω–∏—è –Ω–æ–≤–æ–π).

### 4. –§–∏–ª—å—Ç—Ä–∞—Ü–∏—è
- `GET /api/v1/vacancies/?timetable_mode_name=–ì–∏–±–∫–∏–π&city=–ú–æ—Å–∫–≤–∞`
- –î–æ–ª–∂–Ω—ã –≤–µ—Ä–Ω—É—Ç—å—Å—è —Ç–æ–ª—å–∫–æ –≤–∞–∫–∞–Ω—Å–∏–∏, —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–∏–µ —Ñ–∏–ª—å—Ç—Ä–∞–º.

### 5. –ü–æ–ª—É—á–µ–Ω–∏–µ –ø–æ ID
- `GET /api/v1/vacancies/{id}` (–ø–æ–¥—Å—Ç–∞–≤—å—Ç–µ —Ä–µ–∞–ª—å–Ω—ã–π `id`)
- –û–∂–∏–¥–∞–µ—Ç—Å—è –ø–æ–ª–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ –≤–∞–∫–∞–Ω—Å–∏–∏.

### 6. –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ
- `PUT /api/v1/vacancies/{id}` —Å –∏–∑–º–µ–Ω—ë–Ω–Ω—ã–º–∏ –¥–∞–Ω–Ω—ã–º–∏ (–æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ –≤—Å–µ –ø–æ–ª—è).
- –û–∂–∏–¥–∞–µ—Ç—Å—è –æ–±–Ω–æ–≤–ª—ë–Ω–Ω—ã–π –æ–±—ä–µ–∫—Ç.

### 7. –£–¥–∞–ª–µ–Ω–∏–µ
- `DELETE /api/v1/vacancies/{id}`
- –°—Ç–∞—Ç—É—Å **204 No Content**. –ü–æ–≤—Ç–æ—Ä–Ω—ã–π `GET` –ø–æ —ç—Ç–æ–º—É `id` ‚Üí **404**.

### 8. –§–æ–Ω–æ–≤–∞—è –∑–∞–¥–∞—á–∞
- –ß–µ—Ä–µ–∑ 5 –º–∏–Ω—É—Ç –ø–æ—Å–ª–µ —Å—Ç–∞—Ä—Ç–∞ –≤ –ª–æ–≥–∞—Ö –¥–æ–ª–∂–Ω–æ –ø–æ—è–≤–∏—Ç—å—Å—è –ø–æ–≤—Ç–æ—Ä–Ω–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ –æ –ø–∞—Ä—Å–∏–Ω–≥–µ.
- –ü—Ä–æ–≤–µ—Ä–∫–∞ –ª–æ–≥–æ–≤:
  ```bash
  docker-compose logs app | findstr "–°—Ç–∞—Ä—Ç –ø–∞—Ä—Å–∏–Ω–≥–∞"   # Windows PowerShell
  docker-compose logs app | grep "–°—Ç–∞—Ä—Ç –ø–∞—Ä—Å–∏–Ω–≥–∞"      # Linux/Mac
  ```

---

## üì° API Endpoints

| –ú–µ—Ç–æ–¥   | URL                            | –û–ø–∏—Å–∞–Ω–∏–µ                                              |
|---------|--------------------------------|-------------------------------------------------------|
| `GET`   | `/api/v1/vacancies/`           | –°–ø–∏—Å–æ–∫ –≤–∞–∫–∞–Ω—Å–∏–π (–ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç `timetable_mode_name` –∏ `city`) |
| `GET`   | `/api/v1/vacancies/{id}`       | –î–µ—Ç–∞–ª—å–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ –≤–∞–∫–∞–Ω—Å–∏–∏                        |
| `POST`  | `/api/v1/vacancies/`           | –°–æ–∑–¥–∞–Ω–∏–µ –Ω–æ–≤–æ–π –≤–∞–∫–∞–Ω—Å–∏–∏                                |
| `PUT`   | `/api/v1/vacancies/{id}`       | –ü–æ–ª–Ω–æ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ –≤–∞–∫–∞–Ω—Å–∏–∏                             |
| `DELETE`| `/api/v1/vacancies/{id}`       | –£–¥–∞–ª–µ–Ω–∏–µ –≤–∞–∫–∞–Ω—Å–∏–∏                                      |
| `POST`  | `/api/v1/parse/`               | –†—É—á–Ω–æ–π –∑–∞–ø—É—Å–∫ –ø–∞—Ä—Å–∏–Ω–≥–∞                                 |

–ü–æ–¥—Ä–æ–±–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –¥–æ—Å—Ç—É–ø–Ω–∞ –≤ Swagger UI (`/docs`) –∏ ReDoc (`/redoc`).

---

## ‚öôÔ∏è –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è (–ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è)

| –ü–µ—Ä–µ–º–µ–Ω–Ω–∞—è                 | –û–ø–∏—Å–∞–Ω–∏–µ                                          | –ü–æ —É–º–æ–ª—á–∞–Ω–∏—é                                              |
|----------------------------|---------------------------------------------------|-----------------------------------------------------------|
| `DATABASE_URL`             | –°—Ç—Ä–æ–∫–∞ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è –∫ PostgreSQL                   | `postgresql+asyncpg://postgres:postgres@db:5432/postgres` |
| `LOG_LEVEL`                | –£—Ä–æ–≤–µ–Ω—å –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏—è (`INFO`, `DEBUG` –∏ —Ç.–¥.)      | `INFO`                                                    |
| `PARSE_SCHEDULE_MINUTES`   | –ò–Ω—Ç–µ—Ä–≤–∞–ª —Ñ–æ–Ω–æ–≤–æ–≥–æ –ø–∞—Ä—Å–∏–Ω–≥–∞ (–≤ –º–∏–Ω—É—Ç–∞—Ö)            | `5`                                                       |

---

## üíª –ó–∞–ø—É—Å–∫ –±–µ–∑ Docker (–¥–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏)

1. –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ Python 3.11 –∏–ª–∏ –≤—ã—à–µ.
2. –°–æ–∑–¥–∞–π—Ç–µ –∏ –∞–∫—Ç–∏–≤–∏—Ä—É–π—Ç–µ –≤–∏—Ä—Ç—É–∞–ª—å–Ω–æ–µ –æ–∫—Ä—É–∂–µ–Ω–∏–µ:
   ```bash
   python -m venv venv
   source venv/bin/activate      # Linux/Mac
   venv\Scripts\activate         # Windows
   ```
3. –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏:
   ```bash
   pip install -r requirements.txt
   ```
4. –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ PostgreSQL –∑–∞–ø—É—â–µ–Ω –∏ –¥–æ—Å—Ç—É–ø–µ–Ω.  
   –í `.env` —É–∫–∞–∂–∏—Ç–µ `DATABASE_URL` —Å `localhost` –≤–º–µ—Å—Ç–æ `db`:
   ```env
   DATABASE_URL=postgresql+asyncpg://postgres:postgres@localhost:5432/postgres
   ```
5. –ü—Ä–∏–º–µ–Ω–∏—Ç–µ –º–∏–≥—Ä–∞—Ü–∏–∏:
   ```bash
   alembic upgrade head
   ```
6. –ó–∞–ø—É—Å—Ç–∏—Ç–µ —Å–µ—Ä–≤–µ—Ä:
   ```bash
   uvicorn app.main:app --reload
   ```
7. –û—Ç–∫—Ä–æ–π—Ç–µ [http://localhost:8000/docs](http://localhost:8000/docs).

---

## üõ† –ü–æ–ª–µ–∑–Ω—ã–µ –∫–æ–º–∞–Ω–¥—ã Docker

| –ö–æ–º–∞–Ω–¥–∞ | –û–ø–∏—Å–∞–Ω–∏–µ |
|---------|----------|
| `docker-compose up` | –ó–∞–ø—É—Å—Ç–∏—Ç—å –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä—ã –≤ –∏–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω–æ–º —Ä–µ–∂–∏–º–µ |
| `docker-compose up -d` | –ó–∞–ø—É—Å—Ç–∏—Ç—å –≤ —Ñ–æ–Ω–æ–≤–æ–º —Ä–µ–∂–∏–º–µ |
| `docker-compose down` | –û—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –∏ —É–¥–∞–ª–∏—Ç—å –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä—ã |
| `docker-compose down -v` | –û—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä—ã –∏ —É–¥–∞–ª–∏—Ç—å —Ç–æ–º —Å –ë–î |
| `docker-compose logs -f app` | –ü—Ä–æ—Å–º–æ—Ç—Ä –ª–æ–≥–æ–≤ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è |
| `docker-compose logs -f db` | –ü—Ä–æ—Å–º–æ—Ç—Ä –ª–æ–≥–æ–≤ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö |
| `docker-compose exec app bash` | –í–æ–π—Ç–∏ –≤ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è |
| `docker-compose exec db psql -U postgres -d postgres` | –ü–æ–¥–∫–ª—é—á–∏—Ç—å—Å—è –∫ –ë–î —á–µ—Ä–µ–∑ psql |

---

## üîß –£—Å—Ç—Ä–∞–Ω–µ–Ω–∏–µ –≤–æ–∑–º–æ–∂–Ω—ã—Ö –ø—Ä–æ–±–ª–µ–º

### –ö–æ–Ω—Ç–µ–π–Ω–µ—Ä –Ω–µ —Å—Ç–∞—Ä—Ç—É–µ—Ç, –æ—à–∏–±–∫–∞ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è –∫ –ë–î
**–û—à–∏–±–∫–∞:** `psycopg2.OperationalError: connection to server at "db" ... failed`  
**–†–µ—à–µ–Ω–∏–µ:** –ü–æ–¥–æ–∂–¥–∏—Ç–µ 10‚Äì15 —Å–µ–∫—É–Ω–¥ (–ë–î –º–æ–∂–µ—Ç –∑–∞–ø—É—Å–∫–∞—Ç—å—Å—è –¥–æ–ª—å—à–µ) –∏ –ø–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç–µ:
```bash
docker-compose down
docker-compose up
```

### –û—à–∏–±–∫–∞ "relation 'vacancies' does not exist"
**–†–µ—à–µ–Ω–∏–µ:** –ü—Ä–∏–º–µ–Ω–∏—Ç–µ –º–∏–≥—Ä–∞—Ü–∏–∏ –≤—Ä—É—á–Ω—É—é:
```bash
docker-compose exec app alembic upgrade head
```

### –ü–∞—Ä—Å–∏–Ω–≥ –Ω–µ –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è –ø–æ —Ä–∞—Å–ø–∏—Å–∞–Ω–∏—é
**–ü—Ä–æ–≤–µ—Ä–∫–∞:** –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –≤ `.env` –∑–Ω–∞—á–µ–Ω–∏–µ `PARSE_SCHEDULE_MINUTES` ‚Äî —á–∏—Å–ª–æ, –∞ –Ω–µ —Å—Ç—Ä–æ–∫–∞.  
**–õ–æ–≥–∏:** `docker-compose logs app | findstr "–°—Ç–∞—Ä—Ç –ø–∞—Ä—Å–∏–Ω–≥–∞"` ‚Äî –¥–æ–ª–∂–Ω—ã –±—ã—Ç—å –ø–æ–≤—Ç–æ—Ä—è—é—â–∏–µ—Å—è –∑–∞–ø–∏—Å–∏.

### –ü—Ä–∏ –ø–æ–≤—Ç–æ—Ä–Ω–æ–º POST —Å —Ç–µ–º –∂–µ external_id –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç—Å—è JSON —Å –æ—à–∏–±–∫–æ–π
**–ü—Ä–∏—á–∏–Ω–∞:** –ù–µ–ø—Ä–∞–≤–∏–ª—å–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞ –¥—É–±–ª–∏–∫–∞—Ç–∞ –≤ –∫–æ–¥–µ.  
**–†–µ—à–µ–Ω–∏–µ:** –í —Ñ–∞–π–ª–µ `app/api/v1/vacancies.py` –∑–∞–º–µ–Ω–∏—Ç–µ –±–ª–æ–∫:
```python
if existing:
    return JSONResponse(...)
```
–Ω–∞:
```python
if existing:
    return existing
```